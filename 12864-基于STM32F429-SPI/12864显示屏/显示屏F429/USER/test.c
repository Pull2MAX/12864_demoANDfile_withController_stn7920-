#include "sys.h"
#include "delay.h" 
#include "led.h" 
#include "usart.h"
#include "12864.h"
//ALIENTEK 阿波罗STM32F429开发板 实验3
//串口通信实验  
//技术支持：www.openedv.com
//广州市星翼电子科技有限公司
char tab1[]={
"欢迎选购我们产品"
"限公司液晶显示模"     
"无锡斯迈诺科技有"      
"块采用ST7920控制"     
};
char tab2[]={
"128X64全点阵显示"      //第一行汉字内容
"可显示8X4 个中文"      //第二行汉字内容
"内带标准中文字库"      //第三行汉字内容
"含8192个中文字型"      //第四行汉字内容
};
 unsigned char  bmp1[]={   //横向取模，无字节倒序
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X07,0XFF,0XE0,0X0F,0XFF,0XC0,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X03,0XFF,0XE0,0X0F,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X7F,0X00,0X00,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X3F,0X00,0X00,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X1F,0X00,0X00,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X1F,0X80,0X01,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X0F,0X80,0X01,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X07,0XC0,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X07,0XC0,0X03,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X03,0XE0,0X07,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X03,0XE0,0X07,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X01,0XF0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X01,0XF0,0X0E,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0XF8,0X1E,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0XF8,0X1C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X7C,0X3C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X3C,0X39,0XF7,0XFF,0X80,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X3E,0X79,0XFF,0XFF,0XF8,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X1E,0X70,0X3C,0X00,0X7C,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X1F,0XF0,0X3C,0X00,0X1E,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X0F,0XE0,0X3C,0X00,0X1F,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X0F,0XE0,0X3C,0X00,0X1F,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X07,0XE0,0X3C,0X00,0X1E,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X07,0XC0,0X3C,0X00,0X3E,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X03,0X80,0X3C,0X00,0X78,0X00,0X00,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X00,0X00,0X03,0X80,0X3E,0X1F,0XE0,0X00,0XE0,0X00,0X00,0X01,
0X80,0X00,0X00,0X00,0X02,0X00,0X07,0X00,0X3F,0XFF,0XE0,0X03,0XE0,0X00,0X00,0X01,


};

int main(void)
{ 
//	u8 t;
//	u8 len;	
//	u16 times=0;   
	Stm32_Clock_Init(360,25,2,8);//设置时钟,180Mhz
	delay_init(180);		//初始化延时函数 
	uart_init(90,115200);	//串口初始化为115200
	LED_Init();		  		//初始化与LED连接的硬件接口 
    Pin_Init ();	
	Init ();
	delay_ms(10);	
	while(1)
	{
//		if(USART_RX_STA&0x8000)
//		{					   
//			len=USART_RX_STA&0x3fff;//得到此次接收到的数据长度
//			printf("\r\n您发送的消息为:\r\n");
//			for(t=0;t<len;t++)
//			{
//				USART1->DR=USART_RX_BUF[t];
//				while((USART1->SR&0X40)==0);//等待发送结束
//			}
//			printf("\r\n\r\n");//插入换行
//			USART_RX_STA=0;
//		}else
//		{
//			times++;
//			if(times%5000==0)
//			{
//				printf("\r\nALIENTEK 阿波罗STM32F4/F7开发板 串口实验\r\n");
//				printf("正点原子@ALIENTEK\r\n\r\n\r\n");
//			}
//			if(times%200==0)printf("请输入数据,以回车键结束\r\n");  
//			if(times%30==0)LED0=!LED0;//闪烁LED,提示系统正在运行.
//			delay_ms(10);   
//		}
    Cn_Disp (tab1);
	delay_ms(1000);
	delay_ms(1000);
//	delay_ms(1000);
//	delay_ms(1000);
	Cn_Disp (tab2);
	delay_ms(1000);
	delay_ms(1000);
//	delay_ms(1000);
//	delay_ms(1000);
	LcmClearTXT ();
	lat_disp (0xff,0xff);    //显示全屏
	lat_disp (0xaa,0x55);    //显示网点
	lat_disp (0x55,0xaa);    //错开显示网点
	lat_disp (0xaa,0xaa);    //显示竖条
	lat_disp (0x55,0x55);    //错开显示竖条
    lat_disp (0xff,0x00);    //显示横条
    lat_disp (0x00,0xff);	 //错开显示横条
	LcmClearTXT ();
	Gra_disp(bmp1);
    delay_ms(500);
    LcmClearBMP();
    LcmClearTXT();
	LED0 =~LED0;
	}
}

















